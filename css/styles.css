/* Base */
* { box-sizing: border-box; }

:root {
    --primary: #2563eb;
    --success: #16a34a;
    --success-light: #dcfce7;
    --error: #dc2626;
    --error-light: #fee2e2;
    --gray-100: #f3f4f6;
    --gray-200: #e5e7eb;
    --gray-500: #6b7280;
    --gray-900: #111827;
}

body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
    line-height: 1.6;
    color: var(--gray-900);
    background: var(--gray-100);
    margin: 0;
}

.container { max-width: 900px; margin: 0 auto; padding: 2rem; }
.container.wide { max-width: 1200px; }

/* Header */
header {
    background: white;
    border-bottom: 1px solid var(--gray-200);
    padding: 1rem 2rem;
    display: flex;
    justify-content: space-between;
    align-items: center;
}
header h1 { margin: 0; font-size: 1.25rem; }
header h1 a { color: var(--gray-900); text-decoration: none; }
header nav { display: flex; gap: 1rem; align-items: center; }
header nav a { color: var(--primary); text-decoration: none; }
#user-info { display: none; align-items: center; gap: 1rem; font-size: 0.875rem; }

/* Buttons */
.btn {
    padding: 0.5rem 1rem;
    font-size: 0.875rem;
    border-radius: 8px;
    cursor: pointer;
    border: none;
}
.btn-primary { background: var(--primary); color: white; }
.btn-secondary { background: white; border: 1px solid var(--gray-200); }
.btn-small { padding: 0.25rem 0.5rem; font-size: 0.75rem; }

/* Login */
#login-section { display: none; }
#content-section { display: none; }

.login-box {
    max-width: 400px;
    margin: 4rem auto;
    padding: 2rem;
    background: white;
    border-radius: 8px;
    box-shadow: 0 4px 6px rgba(0,0,0,0.1);
    text-align: center;
}
.login-box h2 { margin-top: 0; }
.login-box p { color: var(--gray-500); }

#login-form { display: flex; flex-direction: column; gap: 1rem; }
#login-form input {
    padding: 0.75rem;
    font-size: 1rem;
    border: 1px solid var(--gray-200);
    border-radius: 8px;
}
#login-form button { width: 100%; padding: 0.75rem; }

.message { padding: 0.75rem; border-radius: 8px; margin-top: 1rem; }
.message:empty { display: none; }
.message.success { background: var(--success-light); color: var(--success); }
.message.error { background: var(--error-light); color: var(--error); }

/* Lesson */
.lesson-header { margin-bottom: 2rem; }
.lesson-header h2 { margin: 0 0 0.5rem 0; }
.lesson-header .description { color: var(--gray-500); margin: 0; }

.progress-container {
    background: var(--gray-200);
    border-radius: 999px;
    height: 8px;
    margin: 1rem 0;
}
#progress-bar {
    background: var(--success);
    height: 100%;
    border-radius: 999px;
    width: 0%;
    transition: width 0.3s;
}
#progress-counter { font-size: 0.875rem; color: var(--gray-500); margin-bottom: 1.5rem; }

/* Tasks */
.task-list {
    background: white;
    border-radius: 8px;
    box-shadow: 0 1px 3px rgba(0,0,0,0.1);
}
.task-item {
    display: flex;
    align-items: flex-start;
    gap: 0.75rem;
    padding: 1rem;
    border-bottom: 1px solid var(--gray-100);
}
.task-item:last-child { border-bottom: none; }
.task-item.completed { background: var(--success-light); }
.task-item input[type="checkbox"] { width: 20px; height: 20px; margin-top: 2px; accent-color: var(--success); }
.task-item label { flex: 1; cursor: pointer; }
.task-item a { color: var(--primary); }
.task-item .optional {
    font-size: 0.75rem;
    background: var(--gray-100);
    padding: 0.125rem 0.5rem;
    border-radius: 999px;
    margin-left: 0.5rem;
}

/* Lesson content */
.lesson-content {
    margin-top: 2rem;
    padding: 1.5rem;
    background: white;
    border-radius: 8px;
}
.lesson-content img { max-width: 100%; }
.lesson-content pre { background: var(--gray-100); padding: 1rem; border-radius: 8px; overflow-x: auto; }
.lesson-content code { font-family: monospace; }

/* Dashboard */
.dashboard-section {
    background: white;
    border-radius: 8px;
    padding: 1.5rem;
    margin-bottom: 2rem;
}
.dashboard-section h3 { margin-top: 0; border-bottom: 1px solid var(--gray-200); padding-bottom: 0.5rem; }

.progress-table { width: 100%; border-collapse: collapse; font-size: 0.875rem; }
.progress-table th, .progress-table td { padding: 0.5rem; border: 1px solid var(--gray-200); text-align: center; }
.progress-table th { background: var(--gray-100); }
.progress-table th.page-header { background: var(--primary); color: white; }
.progress-table .student-name { text-align: left; }
.progress-table .completed { background: var(--success-light); color: var(--success); }
.progress-table .incomplete { color: var(--gray-200); }
.progress-table .total { font-weight: 600; }

.student-management-list { list-style: none; padding: 0; margin: 1rem 0 0 0; }
.student-management-list li {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 0.75rem;
    border-bottom: 1px solid var(--gray-100);
}
.student-info small { color: var(--gray-500); }
.badge { font-size: 0.625rem; padding: 0.125rem 0.375rem; border-radius: 999px; margin-left: 0.5rem; }
.badge.instructor { background: var(--primary); color: white; }
.btn-remove { background: none; border: none; color: var(--error); cursor: pointer; opacity: 0.5; }
.btn-remove:hover { opacity: 1; }

.add-form { display: flex; gap: 0.5rem; flex-wrap: wrap; align-items: flex-end; margin-bottom: 1rem; }
.add-form .form-group { flex: 1; min-width: 150px; }
.add-form label { display: block; font-size: 0.75rem; margin-bottom: 0.25rem; }
.add-form input { width: 100%; padding: 0.5rem; border: 1px solid var(--gray-200); border-radius: 8px; }
.add-form .checkbox-group { display: flex; align-items: center; gap: 0.25rem; padding-bottom: 0.5rem; }

.loading { text-align: center; color: var(--gray-500); padding: 2rem; }
.error { color: var(--error); }
